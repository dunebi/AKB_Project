<ion-header>
  <ion-toolbar color = "" style="border-bottom: 0.5px solid gray;">

    <ion-buttons slot="end">
      <ion-button (click)="gohome()">
       <font style="color: #3B7AE1;">로그아웃</font> 
      </ion-button>
    </ion-buttons>
      <ion-title><font color="#3B7AE1"><b>관리자메뉴</b></font></ion-title>
 
    </ion-toolbar>
  <ion-segment [(ngModel)]="segment" (ionChange)="segmentChanged($event)" >
      <ion-segment-button value="전체">
      <ion-label>전체</ion-label>
      </ion-segment-button>
      <ion-segment-button value="승인">
          <ion-label>승인</ion-label>
          </ion-segment-button>
          <ion-segment-button value="미승인">
            <ion-label>미승인</ion-label>
            </ion-segment-button>
    </ion-segment>
</ion-header>
<ion-content>
    <ion-list *ngFor="let item of items; let i = index;" >
      <div *ngIf="items[i]!=null">
        <ion-card *ngIf="ary[i]==false" (click)="touch(i)">
            <ion-item >
                <table class="product_tabel">
                    <tr>
                        <td rowspan="2" width="20vh;">
                            <ion-avatar>
                                <ion-img src='assets/sw_image/manual-voting.png' style='width:100%;height:100%'></ion-img>
                            </ion-avatar>
                        </td>
                        <td>
                            {{item.e_name}}
                       
                            
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h6>{{item.e_date}}</h6>
                        </td>
                    </tr>
                </table>

                <div *ngIf="state[i]=='저장완료'" slot="end"><font style="color:#3B7AE1;">{{item.e_state}}</font></div>
                <div *ngIf="state[i]=='반려'" slot="end"><font style="color: red;">{{item.e_state}}</font></div>
                <div *ngIf="state[i]=='심사중'" slot="end"><font style="color: rgba(255, 187, 0, 0.808)">{{item.e_state}}</font></div>
                <div *ngIf="state[i]=='승인완료'" slot="end"><font style="color:#00ACEE">{{item.e_state}}</font></div>
                <div *ngIf="state[i]=='투표중'" slot="end"><font style="color :green">{{item.e_state}}</font></div>
                <div *ngIf="state[i]=='선거종료'" slot="end"><font style="color :red">{{item.e_state}}</font></div>
                
            </ion-item>
           
        </ion-card>
        <ion-card  *ngIf="ary[i]==true" (click)="touch(i)">
          <ion-item >
              <table class="product_tabel">
                  <tr>
                      <td rowspan="2" width="20vh;">
                          <ion-avatar>
                              <ion-img src='assets/sw_image/manual-voting.png' style='width:100%;height:100%'></ion-img>
                          </ion-avatar>
                      </td>
                      <td>
                          {{item.e_name}}
                      </td>
                  </tr>
                  <tr>
                      <td>
                          <h6>{{item.e_date}}</h6>
                      </td>
                  </tr>
              </table>
 
              <div *ngIf="state[i]=='저장완료'" slot="end"><font style="color:#3B7AE1;">{{item.e_state}}</font></div>
              <div *ngIf="state[i]=='반려'" slot="end"><font style="color: red;">{{item.e_state}}</font></div>
              <div *ngIf="state[i]=='심사중'" slot="end"><font style="color: rgba(255, 187, 0, 0.808)">{{item.e_state}}</font></div>
              <div *ngIf="state[i]=='승인완료'" slot="end"><font style="color:#00ACEE">{{item.e_state}}</font></div>
              <div *ngIf="state[i]=='투표중'" slot="end"><font style="color :green">{{item.e_state}}</font></div>
              

          </ion-item>
          <ion-item>
              <ion-button   color="danger" (click)="deletefunc(item)">삭제</ion-button>
              <ion-button color="secondary" (click)="modify(item)">수정</ion-button>
              <ion-button *ngIf="state[i]!='반려'" color="tertiary" (click)="applyfunc(item)">승인신청</ion-button>
              <ion-button *ngIf="state[i]=='반려'" color="tertiary" (click)="applyfunc(item)">재승인신청</ion-button>
              <ion-button color="success"  (click)="getElection(item)">선거보기</ion-button>
              
          </ion-item>
      </ion-card>
      </div>
    </ion-list>

   
</ion-content>
<div class="sbutton">
    <ion-button  color="" expand="block" (click)="createElection()">선거개설하기</ion-button>
</div>